# ၃.၂ Searching and Extracting Data from Files
ဖိုင်များအတွင်းမှ အချက်အလက်များကို ရှာဖွေခြင်းနှင့် ထုတ်ယူခြင်း

#### LPI ရည်မှန်းချက်များ ကိုးကားချက်
* Linux Essentials version 1.6, Exam 010, Objective 3.2
* Weight: 3

#### အဓိက လေ့လာရန် နယ်ပယ်များ
* Command line pipes (Command line ပိုက်လိုင်းများ)
* I/O redirection (အဝင်/အထွက် လမ်းကြောင်းပြောင်းလဲခြင်း)
* Basic Regular Expressions (အခြေခံ ပုံမှန်ဖော်ပြချက်များ) - `.` , `[ ]` , `*` နှင့် `?` ကိုအသုံးပြုခြင်း

#### အသုံးပြုထားသော ဖိုင်များ၊ ဝေါဟာရများနှင့် Utility များစာရင်း (တစ်စိတ်တစ်ပိုင်း)
* grep
* less
* cat, head, tail
* sort
* cut
* wc

---

## ၃.၂ သင်ခန်းစာ ၁

**Certificate:** Linux Essentials  
**Version:** 1.6  
**Topic:** 3 - The Power of the Command Line  
**Objective:** 3.2 - Searching and Extracting Data from Files  
**Lesson:** 1 of 2

### နိဒါန်း (Introduction)
ဤလေ့ကျင့်ခန်းတွင် သီးခြား tool များ၏ အကူအညီဖြင့် အချက်အလက်များကို ရင်းမြစ်တစ်ခုမှ အခြားတစ်ခုသို့ လမ်းကြောင်းပြောင်းခြင်း (redirecting) သို့မဟုတ် ပေးပို့ခြင်း (transmitting) ကို အဓိကထား လုပ်ဆောင်သွားမည်ဖြစ်သည်။ Linux command line သည် အချက်အလက်များကို သတ်မှတ်ထားသော စံချန်နယ်များ (standard channels) မှတစ်ဆင့် လမ်းကြောင်းပြောင်းပေးပါသည်။ Command တစ်ခု၏ Standard Input (stdin သို့မဟုတ် channel 0) ကို Keyboard ဟု သတ်မှတ်ပြီး Standard Output (stdout သို့မဟုတ် channel 1) ကို Screen (မျက်နှာပြင်) ဟု သတ်မှတ်ပါသည်။ ထို့အပြင် Command တစ်ခု သို့မဟုတ် ပရိုဂရမ်တစ်ခု၏ Error message များကို လမ်းကြောင်းပြောင်းရန်အတွက် Standard Error (stderr သို့မဟုတ် channel 2) ဟူသော အခြားချန်နယ်တစ်ခုလည်း ရှိပါသည်။ အဝင် (Input) နှင့် အထွက် (Output) လမ်းကြောင်းများကို ပြောင်းလဲနိုင်ပါသည်။ Command တစ်ခုကို လုပ်ဆောင်သည့်အခါ တစ်ခါတစ်ရံတွင် ကျွန်ုပ်တို့သည် အချို့သော အချက်အလက်များကို command ထံသို့ ပေးပို့လိုခြင်း သို့မဟုတ် အထွက်ရလဒ် (output) ကို သတ်မှတ်ထားသော ဖိုင်တစ်ခုအတွင်းသို့ လမ်းကြောင်းပြောင်းထည့်သွင်းလိုခြင်းမျိုး ရှိတတ်ပါသည်။ ဤလုပ်ဆောင်ချက်တစ်ခုချင်းစီကို နောက်ထပ်အပိုင်းနှစ်ပိုင်းတွင် ဆွေးနွေးသွားမည်ဖြစ်သည်။

### I/O Redirection (အဝင်/အထွက် လမ်းကြောင်းပြောင်းလဲခြင်း)
I/O redirection သည် အသုံးပြုသူအား text file တစ်ခုကို အသုံးပြု၍ command တစ်ခုထံမှ သို့မဟုတ် command တစ်ခုထံသို့ အချက်အလက်များကို လမ်းကြောင်းပြောင်းရန် ခွင့်ပြုပါသည်။ အထက်တွင် ဖော်ပြခဲ့သည့်အတိုင်း standard input, output နှင့် error output တို့ကို လမ်းကြောင်းပြောင်းနိုင်ပြီး အချက်အလက်များကို text file များမှ ရယူနိုင်ပါသည်။

#### Standard Output ကို လမ်းကြောင်းပြောင်းလဲခြင်း (Redirecting Standard Output)
Standard output ကို screen ပေါ်တွင် မပြဘဲ ဖိုင်တစ်ခုအတွင်းသို့ လမ်းကြောင်းပြောင်းရန် `>` operator နှင့် ၎င်းနောက်တွင် ဖိုင်အမည်ကို တွဲ၍ အသုံးပြုရပါမည်။ အကယ်၍ ထိုဖိုင်မရှိသေးပါက ဖိုင်အသစ်တစ်ခု ဖန်တီးမည်ဖြစ်ပြီး၊ ရှိပြီးသားဖြစ်ပါက အချက်အလက်အသစ်များသည် ရှိပြီးသားအချက်အလက်များပေါ်တွင် ထပ်ရေး (overwrite) သွားမည်ဖြစ်သည်။ ကျွန်ုပ်တို့ ဖန်တီးလိုက်သော ဖိုင်၏ အကြောင်းအရာကို ကြည့်ရှုရန် `cat` command ကို အသုံးပြုနိုင်ပါသည်။ ပုံမှန်အားဖြင့် ဤ command သည် ဖိုင်တစ်ခု၏ အကြောင်းအရာကို screen ပေါ်တွင် ပြသပေးပါသည်။ ၎င်း၏ လုပ်ဆောင်ချက်များကို ပိုမိုသိရှိလိုပါက manual page တွင် ဖတ်ရှုနိုင်ပါသည်။ အောက်ပါဥပမာသည် အဆိုပါ operator ၏ လုပ်ဆောင်ပုံကို ပြသထားပါသည်။ ပထမအဆင့်တွင် "Hello World!" ဟူသော စာသားပါဝင်သည့် `text` အမည်ရှိ ဖိုင်အသစ်တစ်ခုကို ဖန်တီးပါသည် -

```bash
$ echo "Hello World!" > text
$ cat text
Hello World!
```

ဒုတိယအကြိမ် ခေါ်ယူမှုတွင် အဆိုပါဖိုင်ထဲသို့ စာသားအသစ်ဖြင့် ထပ်ရေးလိုက်ပါသည် -
```bash
$ echo "Hello!" > text
$ cat text
Hello!
```

အကယ်၍ ကျွန်ုပ်တို့သည် ဖိုင်၏အဆုံးတွင် အချက်အလက်အသစ်များကို ထပ်မံဖြည့်စွက်လိုပါက `>>` operator ကို အသုံးပြုရပါမည်။ ဤ operator သည်လည်း အကယ်၍ သတ်မှတ်ထားသော ဖိုင်ကို ရှာမတွေ့ပါက ဖိုင်အသစ်တစ်ခုကို ဖန်တီးပေးပါသည်။ ပထမဥပမာတွင် စာသားအသစ် ထပ်မံဖြည့်စွက်ပုံကို ပြသထားသည်။ တွေ့မြင်ရသည့်အတိုင်း စာသားအသစ်သည် နောက်တစ်ကြောင်းတွင် ထပ်တိုးလာပါသည် -
```bash
$ echo "Hello to you too!" >> text
$ cat text
Hello!
Hello to you too!
```

ဒုတိယဥပမာတွင် ဖိုင်အသစ်တစ်ခုကို ဖန်တီးပေးသွားမည်ဖြစ်ကြောင်း ပြသထားပါသည် -
```bash
$ echo "Hello to you too!" >> text2
$ cat text2
Hello to you too!
```

#### Standard Error ကို လမ်းကြောင်းပြောင်းလဲခြင်း (Redirecting Standard Error)
တစ်ခါတစ်ရံတွင် command တစ်ခုကို လုပ်ဆောင်သည့်အခါ အမှားအယွင်းများ (errors) ဖြစ်ပေါ်တတ်ပါသည်။ ဤ error message များကိုလည်း standard output ကဲ့သို့ပင် ဖိုင်တစ်ခုအတွင်းသို့ လမ်းကြောင်းပြောင်း သိမ်းဆည်းနိုင်ပါသည်။ Standard error အတွက် channel နံပါတ်မှာ 2 ဖြစ်သောကြောင့် `2>` operator ကို အသုံးပြုရပါမည် ။

ဥပမာအားဖြင့် မရှိသောဖိုင်တစ်ခုကို ကြည့်ရှုရန် ကြိုးပမ်းပါက error တက်လာမည်ဖြစ်ပြီး ၎င်းကို အောက်ပါအတိုင်း လမ်းကြောင်းပြောင်းနိုင်ပါသည် -
```bash
$ cat non_existent_file 2> error_log
$ cat error_log
cat: non_existent_file: No such file or directory
```

အကယ်၍ standard output နှင့် standard error နှစ်ခုလုံးကို ဖိုင်တစ်ခုတည်းသို့ လမ်းကြောင်းပြောင်းလိုပါက `&>` operator ကို အသုံးပြုနိုင်ပါသည်။

#### Standard Input ကို လမ်းကြောင်းပြောင်းလဲခြင်း (Redirecting Standard Input)

Standard input (stdin) ကို လမ်းကြောင်းပြောင်းလဲခြင်းသည် command တစ်ခုအတွက် လိုအပ်သော အချက်အလက်များကို keyboard မှ ရိုက်ထည့်မည့်အစား ဖိုင်တစ်ခုအတွင်းမှ တိုက်ရိုက်ဖတ်ယူစေရန် ခိုင်းစေခြင်း ဖြစ်သည်။ standard input အတွက် သတ်မှတ်ထားသော channel နံပါတ်မှာ 0 ဖြစ်ပါသည်။

Standard input ကို လမ်းကြောင်းပြောင်းရန် `<` operator နှင့် ၎င်းနောက်တွင် ဖတ်ယူမည့် ဖိုင်အမည်ကို အသုံးပြုရပါမည်။

ဥပမာအားဖြင့် `wc` (word count) command သည် ဖိုင်တစ်ခုအတွင်းရှိ စာကြောင်းများကို ရေတွက်ပေးနိုင်သည်။ အကယ်၍ ကျွန်ုပ်တို့သည် `names.txt` ဖိုင်ကို keyboard မှ ရိုက်ထည့်မည့်အစား input redirection ဖြင့် ပေးပို့လိုပါက အောက်ပါအတိုင်း လုပ်ဆောင်နိုင်သည် -
```bash
$ wc -l < names.txt
```

ဤနေရာတွင် `wc` command သည် `names.txt` ဖိုင်အတွင်းရှိ အချက်အလက်များကို standard input အဖြစ် လက်ခံရရှိပြီး စာကြောင်းရေကို တွက်ချက်ပေးမည် ဖြစ်သည်။

Redirection များ၏ ကွာခြားချက် -
* `>` သို့မဟုတ် `>>` : အချက်အလက်များကို command မှတစ်ဆင့် ဖိုင်အတွင်းသို့ ထုတ်ပေးခြင်း (Output)။
* `<` : အချက်အလက်များကို ဖိုင်အတွင်းမှတစ်ဆင့် command ထံသို့ ထည့်သွင်းပေးခြင်း (Input)။

---

### Command Line Pipes (Command Line ပိုက်လိုင်းများ)
Linux တွင် အလွန်အသုံးဝင်သော feature တစ်ခုမှာ command တစ်ခု၏ output ကို နောက်ထပ် command တစ်ခု၏ input အဖြစ် တိုက်ရိုက်ပေးပို့နိုင်ခြင်းဖြစ်ပါသည်။ ဤလုပ်ဆောင်ချက်ကို pipe (`|`) operator အသုံးပြု၍ လုပ်ဆောင်ရပါသည်။
```bash
$ command1 | command2
```

ဤနေရာတွင် command1 မှ ထွက်လာသော ရလဒ်များသည် screen ပေါ်သို့ မရောက်ဘဲ command2 ထံသို့ အချက်အလက် (data) အဖြစ် ရောက်ရှိသွားမည်ဖြစ်သည်။

### `wc` (Word Count) command ကို အသုံးပြုခြင်း
`wc` command သည် ဖိုင်တစ်ခု သို့မဟုတ် input အဖြစ် ရရှိလာသော အချက်အလက်များအတွင်းရှိ စာကြောင်းအရေအတွက်၊ စာလုံးအရေအတွက်နှင့် byte အရေအတွက်တို့ကို ရေတွက်ပေးပါသည်။
* **`-c`:** output size (bytes) ကိုသာ ပြသရန်။
* **`-l`:** စာကြောင်းအရေအတွက် (lines) ကိုသာ ပြသရန်။
* **`-m`:** စာလုံးအရေအတွက် (characters) ကိုသာ ပြသရန်။
* **`-w`:** စာကားစုအရေအတွက် (words) ကိုသာ ပြသရန်။

ဥပမာအားဖြင့် လက်ရှိ directory ထဲတွင် ဖိုင်အရေအတွက် မည်မျှရှိသည်ကို သိလိုပါက `ls` နှင့် `wc` ကို (`|`) pipe အသုံးပြု၍ တွဲဖက်နိုင်ပါသည် -
```bash
$ ls | wc -l
```

---

## ၃.၂ သင်ခန်းစာ ၂

**Certificate:** Linux Essentials  
**Version:** 1.6  
**Topic:** 3 - The Power of the Command Line  
**Objective:** 3.2 - Searching and Extracting Data from Files  
**Lesson:** 2 of 2  

### နိဒါန်း (Introduction)

ဤသင်ခန်းစာတွင် ဖိုင်များအတွင်းမှ သီးခြားအချက်အလက်များကို ရှာဖွေခြင်း (searching) နှင့် ထုတ်ယူခြင်း (extracting) ဆိုင်ရာ နည်းလမ်းများကို လေ့လာသွားမည်ဖြစ်သည်။ အထူးသဖြင့် `grep` command နှင့် Regular Expressions (ပုံမှန်ဖော်ပြချက်များ) ကို အဓိကထား ဆွေးနွေးပါမည်။

#### `grep` ဖြင့် ဖိုင်များအတွင်း ရှာဖွေခြင်း
`grep` သည် ဖိုင်တစ်ခု သို့မဟုတ် input data များအတွင်းမှ သင်ပေးလိုက်သော pattern (ပုံစံ) နှင့် ကိုက်ညီသည့် စာကြောင်းများကို ရှာဖွေပေးသည့် အစွမ်းထက်သော tool တစ်ခုဖြစ်သည် ။

အခြေခံအသုံးပြုပုံမှာ -
```bash
$ grep "pattern" filename
```

အသုံးများသော option အချို့မှာ -
* **`-i`:** စာလုံးအကြီးအသေး မခွဲခြားဘဲ ရှာဖွေရန် (Ignore case)။
* **`-v`:** ပေးထားသော pattern နှင့် မကိုက်ညီသော စာကြောင်းများကိုသာ ပြသရန် (Invert match)။
* **`-n`:** ကိုက်ညီသော စာကြောင်း၏ နံပါတ်ကိုပါ ပြသရန် (Line number)။

#### Regular Expressions (ပုံမှန်ဖော်ပြချက်များ)
Regular Expressions သို့မဟုတ် Regex ဆိုသည်မှာ စာသားများကို ရှာဖွေရာတွင် အသုံးပြုသည့် အထူးသင်္ကေတများဖြစ်သည်။

အခြေခံ Regex သင်္ကေတများ -
* **`.` (Dot):** မည်သည့် စာလုံး (character) တစ်လုံးနှင့် ကိုက်ညီသည်။
  ဥပမာ - `c.t` သည် cat, cut, cot စသည်တို့နှင့် ကိုက်ညီပါမည်။
* **`[ ]` (Square brackets):** ကွင်းအတွင်းရှိ စာလုံးများထဲမှ တစ်လုံးလုံးနှင့် ကိုက်ညီသည်။
  ဥပမာ - `[Cc]at` သည် Cat သို့မဟုတ် cat နှင့် ကိုက်ညီပါမည်။
* **`*` (Asterisk):** ၎င်း၏ ရှေ့တွင်ရှိသော စာလုံး သို့မဟုတ် အစုအဖွဲ့သည် သုညအကြိမ် သို့မဟုတ် အကြိမ်ပေါင်းများစွာ ပါဝင်နိုင်သည်ကို ဆိုလိုသည်။
* **`?` (Question mark):** ၎င်း၏ ရှေ့တွင်ရှိသော စာလုံးသည် သုညအကြိမ် သို့မဟုတ် တစ်ကြိမ်သာ ပါဝင်နိုင်သည်ကို ဆိုလိုသည် (Optional ဖြစ်သည်)။

#### `grep` အတွက် အခြားအသုံးဝင်သော သင်္ကေတများ
- **`^` (Caret)**: စာကြောင်းတစ်ကြောင်း၏ **အစ** နေရာကို သတ်မှတ်သည်။
    - ဥပမာ - `grep "^Root" /etc/passwd` သည် "Root" ဖြင့် စာကြောင်းအစပြုသော လိုင်းများကိုသာ ရှာပေးမည်ဖြစ်သည်။
- **`$` (Dollar sign)**: စာကြောင်းတစ်ကြောင်း၏ **အဆုံး** နေရာကို သတ်မှတ်သည်။
    - ဥပမာ - `grep "bash$" /etc/passwd` သည် "bash" ဖြင့် အဆုံးသတ်သော စာကြောင်းများကိုသာ ရှာပေးမည်ဖြစ်သည်။

---

### အခြား အချက်အလက် ထုတ်ယူခြင်းဆိုင်ရာ Command များ

#### `sort` Command
`sort` command သည် စာသားဖိုင်များအတွင်းရှိ စာကြောင်းများကို အက္ခရာစဉ်အလိုက် (သို့မဟုတ်) နံပါတ်စဉ်အလိုက် စီပေးပါသည်။ 
- `-r`: အစဉ်လိုက်မဟုတ်ဘဲ ပြောင်းပြန် (Reverse) စီရန်။ 
- `-n`: ကိန်းဂဏန်းတန်ဖိုးများ (Numerical values) အလိုက် စီရန်။ 

#### `cut` Command
`cut` command သည် စာကြောင်းတစ်ခုချင်းစီမှ သတ်မှတ်ထားသော အစိတ်အပိုင်း (columns သို့မဟုတ် fields) များကို ဖြတ်ထုတ်ရန် အသုံးပြုပါသည်။
- `-d`: Field များကို ပိုင်းခြားထားသည့် အမှတ်အသား (Delimiter) ကို သတ်မှတ်ရန် (ဥပမာ - `:` သို့မဟုတ် `,`)။
- `-f`: မည်သည့် field နံပါတ်ကို ထုတ်ယူမည်ဖြစ်ကြောင်း သတ်မှတ်ရန်။

ဥပမာ - `/etc/passwd` ဖိုင်ထဲမှ username များကိုသာ ထုတ်ယူလိုလျှင် -
```bash
$ cut -d ":" -f 1 /etc/passwd
```

#### `head` နှင့် `tail` Command များ
* `head`: ဖိုင်တစ်ခု၏ ထိပ်ဆုံးမှ စာကြောင်းအချို့ကို ပြသပေးသည် (ပုံမှန်အားဖြင့် ၁၀ ကြောင်း)။
* `tail`: ဖိုင်တစ်ခု၏ နောက်ဆုံးမှ စာကြောင်းအချို့ကို ပြသပေးသည်။

---

### အကျဉ်းချုပ် (Summary)
ဤသင်ခန်းစာတွင် I/O redirection ကို အသုံးပြု၍ standard output နှင့် error များကို ဖိုင်အတွင်း သိမ်းဆည်းခြင်း၊ pipe (|) ကို အသုံးပြု၍ command တစ်ခုနှင့်တစ်ခု ချိတ်ဆက်ခြင်း၊ နှင့် grep ကဲ့သို့သော command များဖြင့် အချက်အလက်များကို ရှာဖွေထုတ်ယူခြင်းတို့ကို လေ့လာခဲ့ပြီး ဖြစ်သည်။ Linux command line ၏ အစွမ်းထက်ဆုံးသော filter များအကြောင်းနှင့် data manipulation ပြုလုပ်ပုံများကို ခြုံငုံဖော်ပြထားခြင်း ဖြစ်သည်။
